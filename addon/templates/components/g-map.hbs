{{#with
  (hash
    canvas=(component "g-map/canvas"
      id=this.mapId
      classNames=this.classNames
      _internalAPI=this._internalAPI)
    publicAPI=this.publicAPI
    map=this.map
    _internalAPI=this._internalAPI
  ) as |gMap|}}

  {{#-private-api/addon-factory
    gMap=this.gMap
    map=gMap.map
    _internalAPI=gMap._internalAPI as |addons|}}

    {{g-map/compute (action this._updateGMap) gMap addons}}

    {{#unless hasBlockParams}}
      <gMap.canvas ...attributes />
    {{/unless}}

    {{yield this.gMap}}
  {{/-private-api/addon-factory}}
{{/with}}